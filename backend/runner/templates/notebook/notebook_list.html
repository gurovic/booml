<!DOCTYPE html>
<html>
<head>
    <title>–ë–ª–æ–∫–Ω–æ—Ç—ã</title>
    {% load static %}
    <script src="{% static 'notebook/js/utils.js' %}"></script>
    <script src="{% static 'notebook/js/notebook_list.js' %}"></script>
</head>
<body>
    <h1>–ë–ª–æ–∫–Ω–æ—Ç—ã</h1>

    <div id="notebooks-container"
         data-create-notebook-url="{% url 'runner:create_notebook' %}"
         data-notebook-detail-url="{% url 'runner:notebook_detail' 0 %}">

        <div style="margin-bottom: 20px;">
            <button id="create-notebook-btn" data-action="create-notebook">–ù–æ–≤—ã–π –±–ª–æ–∫–Ω–æ—Ç</button>
            <button id="import-notebook-btn" data-action="import-notebook">üì§ –ò–º–ø–æ—Ä—Ç –Ω–æ—É—Ç–±—É–∫–∞</button>
            <input type="file" id="import-file-input" accept=".json" style="display: none;" data-import-url="{% url 'runner:import_notebook' %}">
        </div>
        <div id="import-status" style="display: none; margin: 10px 0; padding: 10px; border-radius: 4px;"></div>

        <div id="notebooks-list">
            {% for notebook in notebooks %}
            <div class="notebook-item" data-notebook-id="{{ notebook.id }}">
                <a class="notebook-link" href="{% url 'runner:notebook_detail' notebook.id %}">
                    {{ notebook.title }} (ID: {{ notebook.id }})
                </a>
            </div>
            {% empty %}
            <p>–ù–µ—Ç –±–ª–æ–∫–Ω–æ—Ç–æ–≤</p>
            {% endfor %}
        </div>
    </div>

    {% csrf_token %}

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            notebookList.init({
                csrfToken: '{{ csrf_token }}'
            });
        });
    </script>
</body>
</html>
